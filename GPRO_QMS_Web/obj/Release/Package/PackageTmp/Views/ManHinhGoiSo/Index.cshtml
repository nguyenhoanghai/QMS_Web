@using System.Configuration;
@using Newtonsoft.Json;
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout_LCD.cshtml";
    var cf = JsonConvert.DeserializeObject<dynamic>((ViewData["Config"] != null ? ViewData["Config"].ToString() : ""));
}
<style>
    .row .col {
        padding: 0
    }

    .text-center {
        text-align: center
    }

    .border {
        border: 2px solid #ccc;
        border-collapse: collapse;
        border-top: none
    }

    .padd-20 {
        padding: 20px !important;
    }

    .padd-10 {
        padding: 10px !important
    }

    .border-bottom {
        border-bottom: 2px solid #ccc;
    }

    .border-top {
        border-top: 2px solid #ccc;
    }

    .border-left {
        border-left: 2px solid #ccc;
    }

    .border-right {
        border-right: 2px solid #ccc;
    }

    ul li {
        list-style: none;
        float: left;
    }

    .bold {
        font-weight: bold
    }

    .sub-title {
    }

        .sub-title li {
        }

    .bv-title {
        font-size: 30px;
        line-height: 30px;
        text-align: center;
        font-weight: bold;
        border-right: none;
        border-bottom: none;
        padding: 10px 0;
    }

    .bv-sub-title {
        font-size: 30px;
        line-height: 30px;
        text-align: center;
        font-weight: bold;
        border-right: none;
        border-bottom: none;
        padding: 10px 0;
    }

    .bv-table-title,
    .bv-table-row {
        display: flex;
    }

        .bv-table-title div,
        .bv-table-row div {
            border: 2px solid #ccc;
            border-left: none;
        }

            .bv-table-title div:last-child,
            .bv-table-row div:last-child {
                border-right: none
            }

        .bv-table-row div {
            border-top: none
        }

    .sub-title-stt {
        font-size: 30px;
        line-height: 30px;
        text-align: center;
        font-weight: bold;
        border-right: none;
        border-bottom: none;
        padding: 10px 0;
    }

    .num-stt {
        font-size: 30px;
        line-height: 30px;
        text-align: center;
        font-weight: bold;
        border-right: none;
        border-bottom: none;
        padding: 10px 0;
    }

    .num-stt-dangkham {
        color: red
    }

    .num-stt-ketluan {
        color: green
    }
</style>

<div class="row text-center" style="width:100%">
    <div class="col s12 padd-20 bv-title">@cf.tieu_de</div>
    <div class="col s12 border-bottom border-top">
        <div class="col s5   border-right  red-text ">
            <div class="bold bv-sub-title">DANH SÁCH BN XẾP CHỜ HÀNG KHÁM BỆNH</div>
            <div class="bv-table-title">
                <div class="col s2">STT</div>
                <div class="col s8">Họ và Tên</div>
                <div class="col s2">Tuổi</div>
            </div>
            <div class="clearfix"></div>
            <div class="cho-kham">
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="clearfix"></div>
            </div>

        </div>
        <div class="col s2   "></div>
        <div class="col s5  border-left blue-text">
            <div class="bold bv-sub-title">DANH SÁCH bn QUÁ LƯỢT KHÁM BỆNH</div>
            <div class="bv-table-title">
                <div class="col s2">STT</div>
                <div class="col s8">Họ và Tên</div>
                <div class="col s2">Tuổi</div>
            </div>
            <div class="clearfix"></div>
            <div class="qua-luot-kham">
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="  padd-20">
        <div class="sub-title-stt">SỐ THỨ TỰ ĐANG KHÁM BỆNH</div>
        <div class="num-stt num-stt-dangkham">001</div>
    </div>
    <div class="col s12 border-bottom border-top">
        <div class="col s5  border-right red-text">
            <div class="bold bv-sub-title">DANH SÁCH BN CHỜ KẾT LUẬN KHÁM BỆNH</div>
            <div class="bv-table-title">
                <div class="col s2">STT</div>
                <div class="col s8">Họ và Tên</div>
                <div class="col s2">Tuổi</div>
            </div>
            <div class="clearfix"></div>
            <div class="cho-ket-luan">
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="clearfix"></div>
            </div>

            <div class="clearfix"></div>
        </div>
        <div class="col s2"></div>
        <div class="col s5  border-left  blue-text">
            <div class="bold bv-sub-title">DANH SÁCH BN QUÁ LƯỢT KẾT LUẬN KHÁM BỆNH</div>
            <div class="bv-table-title">
                <div class="col s2">STT</div>
                <div class="col s8">Họ và Tên</div>
                <div class="col s2">Tuổi</div>
            </div>
            <div class="clearfix"></div>
            <div class="qua-luot-ket-luan">
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="bv-table-row">
                    <div class="col s2">001</div>
                    <div class="col s8">Lâm văn C</div>
                    <div class="col s2">30</div>
                </div>
                <div class="clearfix"></div>
            </div>

            <div class="clearfix"></div>
        </div>
    </div>
    <div class=" col s12 border-bottom padd-20">
        <div class="sub-title-stt">SỐ THỨ TỰ ĐANG KẾT LUẬN KHÁM</div>
        <div class="num-stt num-stt-ketluan">021</div>
    </div>
    <div class="clearfix"></div>
</div>

<div class="clearfix"></div>
<div id="configStr" style="display:none">@Html.Raw(cf)</div>
 
<div class="row setting">
    <div class="col s12 m12">
        <div class="card  ">
            <div class="card-content blue-text text-darken-2 glyphicon-bold">
                <span class="card-title">Cấu hình hiển thị </span>
                <div class="row">
                    <div class="input-field col s4">
                        <input id="tieu-de" type="text" value="@cf.tieu_de">
                        <label for="tieu-de">Tiêu đề</label>
                    </div> 
                    <div class="input-field col s8">
                        <textarea id="css-tieu-de" class="materialize-textarea">@cf.tieu_de_css</textarea>
                        <label for="css-tieu-de">css khung Tiêu đề</label>
                    </div>
                    <div class="input-field col s12">
                        <textarea id="css-sub-tieu-de" class="materialize-textarea">@cf.sub_tieu_de_css</textarea>
                        <label for="css-sub-tieu-de">css khung tiêu đề con</label>
                    </div>
                    <div class="input-field col s12">
                        <textarea id="css-tieu-de-stt" class="materialize-textarea">@cf.tieu_de_stt_css</textarea>
                        <label for="css-sub-tieu-de">css tiêu đề STT</label>
                    </div>
                    <div class="input-field col s12">
                        <textarea id="css-stt" class="materialize-textarea">@cf.stt_css</textarea>
                        <label for="css-sub-tieu-de">css STT</label>
                    </div>
                    <div class="input-field col s12">
                        <textarea id="css-content-title" class="materialize-textarea">@cf.noi_dung_title_css</textarea>
                        <label for="css-content-title">css dòng nội dung tiêu đề</label>
                    </div>
                    <div class="input-field col s12">
                        <textarea id="css-content" class="materialize-textarea">@cf.noi_dung_css</textarea>
                        <label for="css-content">css dòng nội dung</label>
                    </div>
                     
                </div>
            </div>
            <div class="card-action">
                <input type="button" class="btn btn-danger" btsave value="Lưu cấu hình" />
            </div>
        </div>
    </div>
</div>
<script src="~/Scripts/QMS/ManHinhGoiSo/goi-so-1.js"></script>
<script>
    $('[btSave]').click(function () {
        var obj = {
            tieu_de: $('#tieu-de').val(),
            tieu_de_css: $('#css-tieu-de').val(),
            sub_tieu_de: $('#sub-tieu-de').val(),
            sub_tieu_de_css: $('#css-sub-tieu-de').val(),
            tieu_de_stt_css: $('#css-tieu-de-stt').val(),
            stt_css: $('#css-stt').val(), 
            noi_dung_css: $('#css-content').val(),
            noi_dung_title_css: $('#css-content-title').val() 
        }
        SaveConfig(JSON.stringify(obj), 'MH3');
    });
    var str = $('#configStr').html();
    var obj = JSON.parse(str);
    var css = '.bv-title {' + obj.tieu_de_css + '  }';
    css += '.bv-sub-title{' + obj.sub_tieu_de_css + ' }';
    css += '.sub-title-stt{' + obj.tieu_de_stt_css + ' }';
    css += '.num-stt{' + obj.stt_css + ' }';

    css += '.bv-table-title {' + obj.noi_dung_title_css + '  }';
    css += '.bv-table-row {' + obj.noi_dung_css + ' }';
     

    $("style").append(css);

</script>